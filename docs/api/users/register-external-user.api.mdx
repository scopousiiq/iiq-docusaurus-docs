---
id: register-external-user
title: "Register external user"
description: "Initiates registration for an external (guest) user. This starts the self-registration flow and typically triggers an email with a completion token. Allows anonymous access."
sidebar_label: "Register external user"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/users/users-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Register external user"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1.0/users/external/register"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Initiates registration for an external (guest) user. This starts the self-registration flow and typically triggers an email with a completion token. Allows anonymous access.

**Prerequisites**
1. **LocationId** (if required by tenant) - Use [GET /api/v1.0/locations/view](/docs/api/locations/get-all-site-locations-v-2) to select a location.

**Workflow Example**
1. Submit registration details with email and name.
2. User receives a verification email containing a token.
3. Complete setup via [POST /api/v1.0/users/external/complete-registration](/docs/api/users/complete-external-user-registration).

**Minimal Required Fields**: Email, FirstName, LastName (LocationId may be required by policy).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","description":"Request to register an external (guest) user. Mirrors `Spark.Shared.Models.Requests.RegisterExternalUserRequest`. Note: SiteId and Ip are set by the server.","properties":{"FirstName":{"type":"string","description":"First name of the new user."},"LastName":{"type":"string","description":"Last name of the new user."},"Username":{"type":"string","description":"Username/email for the new user account."},"Password":{"type":"string","format":"password","description":"Password for the new user account."},"LocationId":{"type":"string","format":"uuid","description":"UUID of the location. Obtain via [GET /api/v2.0/locations](/docs/api/locations/get-my-locations-v-2), extract `Items[].LocationId`.","x-obtained-from":{"operationId":"getMyLocationsV2","endpoint":"GET /api/v2.0/locations","responseField":"Items[].LocationId"}}},"title":"RegisterExternalUserRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Registration initiated","content":{"application/json":{"schema":{"type":"object","description":"Response after registering an external user. Mirrors `Spark.Shared.Models.Responses.RegisterExternalUserResponse`. Contains details for the email verification workflow.","properties":{"UserToken":{"type":"string","format":"uuid","nullable":true,"description":"Authenticated session identifier."},"RequestDate":{"type":"string","format":"date-time","description":"Timestamp when the API processed the request."},"ExecutionTime":{"type":"number","format":"double","description":"Server-side execution time in milliseconds."},"StatusCode":{"type":"integer","description":"HTTP status code."},"Message":{"type":"string","nullable":true,"description":"Optional informational or error message."},"UserId":{"type":"string","format":"uuid","description":"Unique identifier of the newly created user.","x-obtained-from":{"operationId":"searchUsers","endpoint":"POST /api/v1.0/users","responseField":"Items[].UserId"}},"UserTokenId":{"type":"string","format":"uuid","description":"Token identifier used for email verification. Pass this to the complete-registration endpoint."},"MaskedEmail":{"type":"string","description":"Partially masked email address (e.g., 'd***@incidentiq.com') for display to the user."}},"title":"RegisterExternalUserResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","description":"Detailed validation error information for bad request responses","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (400)","example":400},"Message":{"type":"string","description":"Human-readable description of the validation error","example":"Invalid request data"},"Errors":{"type":"object","description":"Field-specific validation errors","additionalProperties":{"type":"array","items":{"type":"string"}},"example":{"Subject":["Subject is required"],"IssueId":["IssueId must be a valid UUID"]}}},"required":["StatusCode","Message"],"title":"ValidationError"}}}},"409":{"description":"User already exists","content":{"application/json":{"schema":{"type":"object","description":"Error response when attempting to create a resource that already exists. Based on C# `AlreadyExistsException` with ErrorKey 'ALREADY_EXISTS'.","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (409 Conflict)","example":409},"Message":{"type":"string","description":"Human-readable description of the conflict","example":"The item you are creating already exists"},"ErrorKey":{"type":"string","description":"Machine-readable error key","example":"ALREADY_EXISTS"}},"required":["StatusCode","Message","ErrorKey"],"title":"AlreadyExistsError"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","description":"Error response for internal server errors","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (500)","example":500},"Message":{"type":"string","description":"Human-readable description of the server error","example":"An internal server error occurred. Please try again later."},"RequestId":{"type":"string","description":"Unique request identifier for troubleshooting","example":"req_1234567890abcdef"}},"required":["StatusCode","Message"],"title":"InternalServerError"}}}}}}
>
  
</StatusCodes>


      