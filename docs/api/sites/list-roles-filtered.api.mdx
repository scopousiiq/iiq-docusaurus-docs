---
id: list-roles-filtered
title: "List roles with filters"
description: "Retrieves security roles with advanced filtering capabilities. The POST method allows complex filter criteria and pagination options to be passed in the request body."
sidebar_label: "List roles with filters"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/sites/sites-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List roles with filters"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1.0/sites/roles"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieves security roles with advanced filtering capabilities. The POST method allows complex filter criteria and pagination options to be passed in the request body.

**Use Cases**
- Search for roles by name or portal type with specific criteria
- Implement server-side filtering for role management interfaces
- Retrieve roles matching multiple conditions in a single request

**Request Body Options**
- `Filters` - Array of filter conditions (field, operator, value)
- `Paging` - Pagination settings (`PageIndex`, `PageSize`)
- `Sorts` - Sorting criteria (field name, direction)

**Common Filters**
- Filter by portal: `{ "Field": "Portal", "Operator": "=", "Value": 2 }` for Agent roles
- Filter by active status: `{ "Field": "IsActive", "Operator": "=", "Value": true }`

**Related Endpoints**: Use [GET /api/v1.0/sites/roles](/docs/api/sites/list-roles) for simple listing without filters, or [GET /api/v1.0/sites/roles/with-permission-policies](/docs/api/sites/list-roles-with-permission-policies) to include permission details.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Optional filtering and pagination options.","content":{"application/json":{"schema":{"type":"object","description":"Standard request options for list/search operations including field selection, pagination, and filtering. Based on C# `RequestOptions` from `Spark.Shared.Models.DataFramework`.","properties":{"Fields":{"type":"array","nullable":true,"items":{"type":"string"},"description":"List of field names to include in the response (sparse fieldsets). If null/empty, all fields are returned."},"Paging":{"allOf":[{"type":"object","description":"Pagination and sorting options for list requests","properties":{"PageSize":{"type":"integer","description":"Number of records per page. Use -1 for unlimited (not recommended for large datasets).","default":-1,"example":50},"PageIndex":{"type":"integer","description":"Zero-based page index","default":0,"minimum":0,"example":0},"SortField":{"type":"string","nullable":true,"description":"Field name to sort results by. Available fields depend on the entity type.","example":"Name"},"SortDirection":{"type":"string","enum":["Ascending","Descending"],"description":"Sort direction for the primary sort field","default":"Ascending"},"SecondarySortOptions":{"type":"array","nullable":true,"items":{"type":"object","description":"Sort configuration for a single field","properties":{"SortField":{"type":"string","description":"Field name to sort by"},"SortDirection":{"type":"string","enum":["Ascending","Descending"],"description":"Sort direction","default":"Ascending"}},"required":["SortField"],"title":"SortOptions"},"description":"Additional sort criteria applied after the primary sort"}},"title":"PagingOptions"}],"nullable":true,"type":"object","description":"Pagination and sorting options"},"Filters":{"type":"array","nullable":true,"items":{"type":"object","description":"Filter condition for search/list operations. Based on C# `DataFilter` from `Spark.Shared.Models.DataFramework`. Supports both simple filters and nested filter groups.","properties":{"Facet":{"type":"string","description":"Field name or facet to filter on (e.g., 'Status', 'LocationId', 'CreatedDate')"},"Ids":{"type":"array","nullable":true,"items":{"type":"string","format":"uuid"},"description":"Array of UUIDs to filter by (for ID-based facets)"},"Values":{"type":"array","nullable":true,"items":{"type":"string"},"description":"Array of string values to filter by"},"Op":{"allOf":[{"type":"string","description":"Filter operations for DataFilter queries. Based on C# `DataFilterOperations` enum from `Spark.Shared.Enums`.","enum":["None","Equal","Greater","Less","GreaterOrEqual","LessOrEqual","StartsWith","EndsWith","Contains","NotEqual","NotGreater","NotLess","NotGreaterOrEqual","NotLessOrEqual"],"x-enum-descriptions":{"None":"No operation specified","Equal":"Equals (eq)","Greater":"Greater than (gt)","Less":"Less than (lt)","GreaterOrEqual":"Greater than or equal (ge)","LessOrEqual":"Less than or equal (le)","StartsWith":"String starts with","EndsWith":"String ends with","Contains":"String contains","NotEqual":"Not equal (ne)","NotGreater":"Not greater than (ng)","NotLess":"Not less than (nl)","NotGreaterOrEqual":"Not greater than or equal (nge)","NotLessOrEqual":"Not less than or equal (nle)"},"title":"DataFilterOperations"}],"description":"Filter operation to apply"},"CustomFieldTypeId":{"type":"string","format":"uuid","nullable":true,"description":"Custom field type ID (when filtering on custom fields)"},"ComplexEditorPath":{"type":"string","nullable":true,"description":"JSON path for filtering within complex editor values"},"Items":{"type":"array","nullable":true,"items":"circular(DataFilter)","description":"Nested filter conditions for complex AND/OR queries"}},"required":["Facet"],"title":"DataFilter"},"description":"Array of filter conditions to apply to the query"},"Collation":{"type":"string","nullable":true,"description":"Database collation for string comparisons (locale-specific sorting)"}},"title":"RequestOptions"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Filtered list of roles returned successfully.","content":{"application/json":{"schema":{"type":"object","description":"Standard response envelope for paginated list operations. Contains an array of items plus pagination metadata.","properties":{"Items":{"type":"array","description":"Array of entities returned by the query. Structure varies by endpoint.","items":{}},"ItemCount":{"type":"integer","description":"Number of items in the current response (length of Items array)","example":25},"Paging":{"allOf":[{"type":"object","description":"Pagination details returned with paged user search results.","properties":{"TotalRows":{"type":"integer","description":"Total number of rows available across all pages.","example":54343},"PageCount":{"type":"integer","description":"Total number of pages available for the current query.","example":10869},"PageSize":{"type":"integer","description":"Number of records returned per page.","example":5},"PageIndex":{"type":"integer","description":"Zero-based index of the current page returned in the response.","example":0}},"title":"PagingMetadata"}],"nullable":true,"type":"object","description":"Pagination details including total rows, page count, and current page"},"UserToken":{"type":"string","format":"uuid","nullable":true,"description":"Authenticated session identifier"},"RequestDate":{"type":"string","format":"date-time","description":"Timestamp when the API processed the request"},"ExecutionTime":{"type":"number","format":"double","description":"Server-side execution time in milliseconds"},"StatusCode":{"type":"integer","description":"HTTP status code (typically 200 for successful list)","example":200},"Message":{"type":"string","nullable":true,"description":"Optional informational message"},"ErrorKey":{"type":"string","nullable":true,"description":"Machine-readable error key for client-side error handling"},"ServerName":{"type":"string","description":"Application node that processed the request"},"ProcessId":{"type":"integer","description":"Internal process identifier for diagnostics"},"OperationId":{"type":"string","nullable":true,"description":"Trace identifier for log correlation"},"Properties":{"type":"object","additionalProperties":true,"nullable":true,"description":"Additional metadata properties"},"Metadata":{"type":"object","additionalProperties":{"type":"string"},"nullable":true,"description":"Key-value metadata pairs"},"Errors":{"type":"array","nullable":true,"items":{"type":"object","description":"A non-fatal validation error that did not prevent the operation from completing","properties":{"Field":{"type":"string","nullable":true,"description":"Name of the field with the validation issue"},"Message":{"type":"string","description":"Human-readable description of the validation issue"},"Code":{"type":"string","nullable":true,"description":"Machine-readable error code"}},"required":["Message"],"title":"SoftValidationError"},"description":"List of soft validation errors"}},"required":["Items","StatusCode"],"title":"ListGetResponse"}}}},"401":{"description":"Unauthorized – authentication required.","content":{"application/json":{"schema":{"type":"object","description":"Error response for authentication failures","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (401)","example":401},"Message":{"type":"string","description":"Human-readable description of the authentication error","example":"Authentication required. Please provide valid credentials."}},"required":["StatusCode","Message"],"title":"UnauthorizedError"}}}},"429":{"description":"Too Many Requests – rate limit exceeded.","content":{"application/json":{"schema":{"type":"object","description":"Error response when rate limit is exceeded","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (429)","example":429},"Message":{"type":"string","description":"Human-readable description of the rate limit error","example":"Rate limit exceeded. Please try again later."},"RetryAfter":{"type":"integer","description":"Number of seconds to wait before retrying","example":60}},"required":["StatusCode","Message"],"title":"RateLimitError"}}}},"500":{"description":"Internal Server Error – an unexpected error occurred.","content":{"application/json":{"schema":{"type":"object","description":"Error response for internal server errors","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (500)","example":500},"Message":{"type":"string","description":"Human-readable description of the server error","example":"An internal server error occurred. Please try again later."},"RequestId":{"type":"string","description":"Unique request identifier for troubleshooting","example":"req_1234567890abcdef"}},"required":["StatusCode","Message"],"title":"InternalServerError"}}}}}}
>
  
</StatusCodes>


      