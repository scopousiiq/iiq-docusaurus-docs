---
id: list-roles
title: "List roles"
description: "Retrieves all security roles defined for the current site. Roles control user permissions and determine which portal (Requestor, Agent, iiQAdmin) users can access."
sidebar_label: "List roles"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/api/sites/sites-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List roles"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/api/v1.0/sites/roles"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieves all security roles defined for the current site. Roles control user permissions and determine which portal (Requestor, Agent, iiQAdmin) users can access.

**Use Cases**
- Populate role selection dropdowns when creating or updating users
- Audit role assignments and user counts across your organization
- Build permission management interfaces for administrators

**Response Fields**
- `RoleId` - UUID used when assigning roles to users via [POST /api/v1.0/users/\{UserId\}](/docs/api/users/update-user)
- `RoleName` - Display name (e.g., "Administrator", "Agent", "Requestor")
- `Portal` - Portal access level: 1=Requestor, 2=Agent, 3=iiQAdmin
- `Visibility` - Role visibility scope: 0=Hidden, 1=Visible
- `Users` - Count of users currently assigned to this role

**Workflow Example**
1. List roles: [GET /api/v1.0/sites/roles](/docs/api/sites/list-roles) → extract `RoleId` values
2. Assign role to user: [POST /api/v1.0/users/\{UserId\}](/docs/api/users/update-user) with `RoleId` in request body

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"$top","in":"query","description":"Maximum number of roles to return. Defaults to 1000.","schema":{"type":"integer","default":1000}},{"name":"$skip","in":"query","description":"Number of roles to skip for pagination.","schema":{"type":"integer","default":0}},{"name":"$orderby","in":"query","description":"Field to sort results by. Defaults to RoleName ascending.","schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"List of roles returned successfully.","content":{"application/json":{"schema":{"type":"object","description":"Standard response envelope for paginated list operations. Contains an array of items plus pagination metadata.","properties":{"Items":{"type":"array","description":"Array of entities returned by the query. Structure varies by endpoint.","items":{}},"ItemCount":{"type":"integer","description":"Number of items in the current response (length of Items array)","example":25},"Paging":{"allOf":[{"type":"object","description":"Pagination details returned with paged user search results.","properties":{"TotalRows":{"type":"integer","description":"Total number of rows available across all pages.","example":54343},"PageCount":{"type":"integer","description":"Total number of pages available for the current query.","example":10869},"PageSize":{"type":"integer","description":"Number of records returned per page.","example":5},"PageIndex":{"type":"integer","description":"Zero-based index of the current page returned in the response.","example":0}},"title":"PagingMetadata"}],"nullable":true,"type":"object","description":"Pagination details including total rows, page count, and current page"},"UserToken":{"type":"string","format":"uuid","nullable":true,"description":"Authenticated session identifier"},"RequestDate":{"type":"string","format":"date-time","description":"Timestamp when the API processed the request"},"ExecutionTime":{"type":"number","format":"double","description":"Server-side execution time in milliseconds"},"StatusCode":{"type":"integer","description":"HTTP status code (typically 200 for successful list)","example":200},"Message":{"type":"string","nullable":true,"description":"Optional informational message"},"ErrorKey":{"type":"string","nullable":true,"description":"Machine-readable error key for client-side error handling"},"ServerName":{"type":"string","description":"Application node that processed the request"},"ProcessId":{"type":"integer","description":"Internal process identifier for diagnostics"},"OperationId":{"type":"string","nullable":true,"description":"Trace identifier for log correlation"},"Properties":{"type":"object","additionalProperties":true,"nullable":true,"description":"Additional metadata properties"},"Metadata":{"type":"object","additionalProperties":{"type":"string"},"nullable":true,"description":"Key-value metadata pairs"},"Errors":{"type":"array","nullable":true,"items":{"type":"object","description":"A non-fatal validation error that did not prevent the operation from completing","properties":{"Field":{"type":"string","nullable":true,"description":"Name of the field with the validation issue"},"Message":{"type":"string","description":"Human-readable description of the validation issue"},"Code":{"type":"string","nullable":true,"description":"Machine-readable error code"}},"required":["Message"],"title":"SoftValidationError"},"description":"List of soft validation errors"}},"required":["Items","StatusCode"],"title":"ListGetResponse"},"example":{"Items":[{"RoleId":"c1d0574a-2243-e611-a93b-a45e60e682da","SiteId":"bb6cece8-e4f4-e511-a789-005056bb000e","RoleName":"Administrator","Portal":2,"Visibility":1,"DisplayOrder":10,"IsActive":true,"IsEditable":true,"CanBeDeleted":true,"Users":5},{"RoleId":"c2d0574a-2243-e611-a93b-a45e60e682da","SiteId":"bb6cece8-e4f4-e511-a789-005056bb000e","RoleName":"Agent","Portal":2,"Visibility":1,"DisplayOrder":20,"IsActive":true,"IsEditable":true,"CanBeDeleted":true,"Users":25},{"RoleId":"c3d0574a-2243-e611-a93b-a45e60e682da","SiteId":"bb6cece8-e4f4-e511-a789-005056bb000e","RoleName":"Requestor","Portal":1,"Visibility":0,"DisplayOrder":30,"IsActive":true,"IsEditable":false,"CanBeDeleted":false,"Users":500}],"Paging":{"PageIndex":0,"PageSize":1000,"TotalPages":1,"TotalCount":3,"HasPreviousPage":false,"HasNextPage":false},"UserToken":"3e17f735-b79f-f011-b484-002248538047","RequestDate":"2025-11-04T20:01:16.909Z","ExecutionTime":15.3,"StatusCode":200,"ServerName":"spark-sites-6c84d89896-wdjqj","ProcessId":1,"OperationId":"Rv2Lm8Kp","Properties":{}}}}},"401":{"description":"Unauthorized – authentication required.","content":{"application/json":{"schema":{"type":"object","description":"Error response for authentication failures","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (401)","example":401},"Message":{"type":"string","description":"Human-readable description of the authentication error","example":"Authentication required. Please provide valid credentials."}},"required":["StatusCode","Message"],"title":"UnauthorizedError"}}}},"429":{"description":"Too Many Requests – rate limit exceeded.","content":{"application/json":{"schema":{"type":"object","description":"Error response when rate limit is exceeded","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (429)","example":429},"Message":{"type":"string","description":"Human-readable description of the rate limit error","example":"Rate limit exceeded. Please try again later."},"RetryAfter":{"type":"integer","description":"Number of seconds to wait before retrying","example":60}},"required":["StatusCode","Message"],"title":"RateLimitError"}}}},"500":{"description":"Internal Server Error – an unexpected error occurred.","content":{"application/json":{"schema":{"type":"object","description":"Error response for internal server errors","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (500)","example":500},"Message":{"type":"string","description":"Human-readable description of the server error","example":"An internal server error occurred. Please try again later."},"RequestId":{"type":"string","description":"Unique request identifier for troubleshooting","example":"req_1234567890abcdef"}},"required":["StatusCode","Message"],"title":"InternalServerError"}}}}}}
>
  
</StatusCodes>


      