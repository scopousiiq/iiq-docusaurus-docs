---
id: get-files-for-entity
title: "Get files for an entity"
description: "Retrieves all files associated with a specific entity. This endpoint is commonly used to get files attached to users, assets, tickets, or other entity types."
sidebar_label: "Get files for an entity"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/api/files/files-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Get files for an entity"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/api/v1.0/files/entity/{EntityTypeId}/{EntityId}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieves all files associated with a specific entity. This endpoint is commonly used to get files attached to users, assets, tickets, or other entity types.

**Permission Notes**:
- Private files (marked as internal) are only returned if the user has the `USERS_FILES_VIEW_PRIVATE` permission.
- Without this permission, only non-private files are returned.

**Common Entity Types**:
- Users: `EntityTypeId` = User entity type UUID
- Assets: `EntityTypeId` = Asset entity type UUID
- Tickets: `EntityTypeId` = Ticket entity type UUID

**Workflow Example**:
1. Get entity type ID from [GET /api/v1.0/entity-types](/docs/api/custom-fields/get-custom-field-entity-mapping-entity-types)
2. Call this endpoint with the entity type and specific entity ID
3. Iterate through returned files to display or download

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"EntityTypeId","in":"path","required":true,"description":"UUID identifying the type of entity (e.g., User, Asset, Ticket)","schema":{"type":"string","format":"uuid"}},{"name":"EntityId","in":"path","required":true,"description":"UUID of the specific entity to retrieve files for","schema":{"type":"string","format":"uuid"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Files retrieved successfully","content":{"application/json":{"schema":{"type":"object","description":"Response envelope containing a list of files.","properties":{"Items":{"type":"array","description":"List of file metadata objects","items":{"type":"object","description":"Represents a file stored in the IncidentIQ system. Files can be attached to tickets, assets, users, and other entities.","properties":{"FileId":{"type":"string","format":"uuid","description":"Unique identifier for the file"},"SiteId":{"type":"string","format":"uuid","nullable":true,"description":"Site/district identifier the file belongs to"},"Name":{"type":"string","description":"Display name for the file","example":"screenshot.png"},"FileName":{"type":"string","description":"Physical filename as stored on the server","example":"screenshot.png"},"Url":{"type":"string","description":"URL path to access or download the file","example":"/api/v1.0/files/a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"FileType":{"description":"Classification of the file type","allOf":[{"type":"integer","description":"File type classification enum from Spark.Shared.Enums.FileTypes. Determines how the file is categorized and handled by the system.","oneOf":[{"enum":[0],"title":"Other","description":"Default file type for uncategorized files"},{"enum":[1],"title":"Photo","description":"User profile photo or avatar image"},{"enum":[2],"title":"Logo","description":"Organization or location logo"},{"enum":[3],"title":"Floorplan","description":"Location floorplan or layout image"},{"enum":[4],"title":"Icon","description":"Small icon or pictogram"},{"enum":[5],"title":"AssetImage","description":"Image associated with an asset"},{"enum":[6],"title":"TicketAttachment","description":"File attached to a ticket"},{"enum":[7],"title":"KnowledgeBaseAttachment","description":"File attached to a knowledge base article"},{"enum":[8],"title":"Import","description":"Data import file (CSV, Excel, etc.)"},{"enum":[9],"title":"Export","description":"Data export file"},{"enum":[10],"title":"Report","description":"Generated report file"},{"enum":[11],"title":"CustomFieldFile","description":"File uploaded via a custom field"},{"enum":[12],"title":"Signature","description":"Electronic signature image"},{"enum":[13],"title":"FormSubmissionAttachment","description":"File attached to a form submission"}],"default":0,"example":6,"title":"FileType"}]},"MimeType":{"type":"string","description":"MIME type of the file content","example":"image/png"},"Size":{"type":"integer","description":"File size in bytes","example":245760},"CreatedDate":{"type":"string","format":"date-time","description":"Timestamp when the file was uploaded"},"CreatedById":{"type":"string","format":"uuid","nullable":true,"description":"UUID of the user who uploaded the file"},"IsPrivateInternal":{"type":"boolean","description":"When true, the file is only visible to internal/agent users","default":false},"IsDeleted":{"type":"boolean","description":"Whether the file has been soft-deleted","default":false},"ModifiedDate":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when the file metadata was last modified"},"ExpirationDate":{"type":"string","format":"date-time","nullable":true,"description":"Optional expiration date after which the file should be deleted"}},"required":["FileId","FileName","FileType","MimeType","Size","CreatedDate"],"example":{"FileId":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","SiteId":"bb6cece8-e4f4-e511-a789-005056bb000e","Name":"screenshot.png","FileName":"screenshot.png","Url":"/api/v1.0/files/a1b2c3d4-e5f6-7890-abcd-ef1234567890","FileType":6,"MimeType":"image/png","Size":245760,"CreatedDate":"2025-12-09T14:30:00.000Z","CreatedById":"51c89694-ae9f-f011-8e61-6045bd7991ab","IsPrivateInternal":false,"IsDeleted":false},"title":"File"}},"Paging":{"type":"object","description":"Pagination details returned with paged user search results.","properties":{"TotalRows":{"type":"integer","description":"Total number of rows available across all pages.","example":54343},"PageCount":{"type":"integer","description":"Total number of pages available for the current query.","example":10869},"PageSize":{"type":"integer","description":"Number of records returned per page.","example":5},"PageIndex":{"type":"integer","description":"Zero-based index of the current page returned in the response.","example":0}},"title":"PagingMetadata"},"UserToken":{"type":"string","format":"uuid","description":"Authenticated session identifier"},"RequestDate":{"type":"string","format":"date-time","description":"Timestamp when the API processed the request"},"ExecutionTime":{"type":"number","format":"double","description":"Server-side execution time in milliseconds"},"StatusCode":{"type":"integer","description":"HTTP status code"},"ServerName":{"type":"string","description":"Application node that processed the request"},"ProcessId":{"type":"integer","description":"Internal process identifier for diagnostics"}},"required":["Items","StatusCode"],"title":"FileListResponse"},"example":{"Items":[{"FileId":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","SiteId":"bb6cece8-e4f4-e511-a789-005056bb000e","Name":"profile-photo.jpg","FileName":"profile-photo.jpg","Url":"/api/v1.0/files/a1b2c3d4-e5f6-7890-abcd-ef1234567890","FileType":1,"MimeType":"image/jpeg","Size":125000,"CreatedDate":"2025-12-09T10:30:00.000Z","CreatedById":"51c89694-ae9f-f011-8e61-6045bd7991ab","IsPrivateInternal":false,"IsDeleted":false},{"FileId":"b2c3d4e5-f6a7-8901-bcde-f23456789012","SiteId":"bb6cece8-e4f4-e511-a789-005056bb000e","Name":"document.pdf","FileName":"document.pdf","Url":"/api/v1.0/files/b2c3d4e5-f6a7-8901-bcde-f23456789012","FileType":0,"MimeType":"application/pdf","Size":450000,"CreatedDate":"2025-12-08T14:15:00.000Z","CreatedById":"51c89694-ae9f-f011-8e61-6045bd7991ab","IsPrivateInternal":false,"IsDeleted":false}],"UserToken":"3e17f735-b79f-f011-b484-002248538047","RequestDate":"2025-12-09T14:35:00.000Z","ExecutionTime":32.5,"StatusCode":200,"ServerName":"spark-api-7bcdf6964c-2xr98","ProcessId":1}}}},"401":{"description":"Unauthorized - Authentication required","content":{"application/json":{"schema":{"type":"object","description":"Error response for authentication failures","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (401)","example":401},"Message":{"type":"string","description":"Human-readable description of the authentication error","example":"Authentication required. Please provide valid credentials."}},"required":["StatusCode","Message"],"title":"UnauthorizedError"}}}},"403":{"description":"Forbidden - User does not have permission to view files for this entity","content":{"application/json":{"schema":{"type":"object","description":"Error response for authorization/permission failures","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (403)","example":403},"Message":{"type":"string","description":"Human-readable description of the authorization error","example":"You do not have permission to perform this action"}},"required":["StatusCode","Message"],"title":"ForbiddenError"}}}},"404":{"description":"Not found - Entity does not exist","content":{"application/json":{"schema":{"type":"object","description":"Error response when a requested resource is not found","properties":{"StatusCode":{"type":"integer","description":"HTTP status code (404)","example":404},"Message":{"type":"string","description":"Human-readable description indicating the resource was not found","example":"The requested resource was not found"},"ResourceId":{"type":"string","description":"ID of the resource that was not found"}},"required":["StatusCode","Message"],"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      